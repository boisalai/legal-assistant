#V2
SELECT id, name, created_at, updated_at FROM document WHERE case_id = 'case:a66381db' LIMIT 5;
SELECT id, name, case_id, created_at, updated_at FROM document LIMIT 3;
INFO FOR DB;
SELECT id, name, created_at, updated_at FROM document LIMIT 3;
SELECT id, name, source_type, created_at, updated_at FROM document WHERE source_type = 'linked' LIMIT 5;
-- Migration 002: Academic Schema for Legal Study Assistant
-- Description: Adds support for academic organization (sessions, courses, modules)
-- Date: 2024-12-12
-- Author: Legal Study Assistant Migration
-- =========================================
-- 1. CREATE SESSION TABLE
-- =========================================
-- Sessions acad√©miques (ex: "Automne 2024", "Hiver 2025")
DEFINE TABLE session SCHEMAFULL;
-- Fields
DEFINE FIELD title ON session TYPE string
SELECT id, title, course_code, professor, credits, type_transaction, nom_dossier FROM course;
SELECT * FROM course;
INFO FOR DB;
SELECT * FROM case;
SELECT COUNT() FROM case GROUP ALL;
SELECT * FROM document WHERE string::starts_with(string::lowercase(course_id), 'case:');
-- Delete all records from the case table
DELETE FROM case;
-- Verify deletion
SELECT COUNT() FROM case GROUP ALL;
SELECT * FROM summary;
SELECT * FROM analysis_result;
-- Remove the case table completely
REMOVE TABLE case;
-- Verify tables
INFO FOR DB;
SELECT id, title, course_code, professor FROM course;
SELECT count() as total FROM embedding WHERE case_id = 'course:938c0203' GROUP ALL;
